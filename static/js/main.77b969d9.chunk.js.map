{"version":3,"sources":["component/DamageScenario.js","constant/element.js","constant/weapon.js","calculator/rounding.js","scenario/ganyu.js","constant/attack-type.js","calculator/real-damage.js","constant/talent.js","report/ganyu.js","asset/alipay.jpg","asset/wechat.jpg","component/Coffee.js","App.js","reportWebVitals.js","index.js"],"names":["DamageScenario","reports","columns","title","dataIndex","key","render","tags","map","tag","color","toUpperCase","className","report","index","chargeLevel2","elementalSkill","elementalBurst","dataSource","criticalDamage","frostflakeArrow","damageExpectation","normalDamage","frostflakeArrowBloom","singleIceShard","allIceShard","justify","description","pagination","size","toString","renderTable","E","PYRO","CRYO","HYDRO","ELECTRO","DENTRO","ANEMO","GEO","WEAPON_PROTOTYPE_CRESCENT","attack","90","sub","refine","1","2","3","4","5","round2","number","Math","round","Number","EPSILON","Scenario","characterStats","weaponStats","this","basicAttack","additionalAttack","attackIncreaseRatio","refineRank","ATTACK_TYPE","PHYSICAL","Calculator","targetStats","attackType","criticalRatio","ratio","level","mastery","damageBoost","initDamageBoost","target","initTargetStats","attackMultiplier","ratioMultiplier","resistantMultiplier","damageBoostMultiplier","elementReactionMultiplier","criticalMultiplier","defence","resistRatio","attachedElement","undefined","baseLevelMultiplier","other","reactionMultiplier","masteryBoost","typeMultiplier","TALENT_GANYU","normal","6","7","8","9","10","11","skill","12","13","burst","Report","ganyuStats","initCharacterStats","talentLevels","buildChargeLevel2Report","buildElementalSkillReport","buildElementalBurstReport","normalTalentLevel","stats","bloomStats","calculate","skillTalentLevel","burstTalentLevel","Coffee","useState","isModalVisible","setIsModalVisible","onClick","visible","footer","onCancel","src","alipay","wechat","App","name","generate","scenario","renderOneRow","value","span","offset","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"6XAyGeA,MArGf,YAAoC,IAAXC,EAAU,EAAVA,QACjBC,EAAU,CACd,CACEC,MAAO,iCACPC,UAAW,eACXC,IAAK,gBAEP,CACEF,MAAO,2BACPC,UAAW,iBACXC,IAAK,kBAEP,CACEF,MAAO,2BACPC,UAAW,oBACXC,IAAK,qBAEP,CACEF,MAAO,eACPE,IAAK,OACLD,UAAW,OACXE,OAAQ,SAAAC,GAAI,OACV,mCACGA,EAAKC,KAAI,SAAAC,GAER,OACE,cAAC,IAAD,CAAKC,MAFO,QAEZ,SACGD,EAAIE,eADiBF,WAmEpC,OACE,sBAAKG,UAAU,kBAAf,UACGJ,IAAIP,GAAS,SAACY,EAAQC,GAAT,OA3DlB,SAAqBD,EAAQC,GAAQ,IAC5BC,EAAgDF,EAAhDE,aAAcC,EAAkCH,EAAlCG,eAAgBC,EAAkBJ,EAAlBI,eAC/BC,EAAa,CACjB,CACEb,IAAK,IACLc,eAAgBJ,EAAaK,gBAAgBD,eAC7CE,kBAAmBN,EAAaK,gBAAgBC,kBAChDC,aAAcP,EAAaK,gBAAgBE,aAC3Cf,KAAM,CAAC,+CAET,CACEF,IAAK,IACLc,eAAgBJ,EAAaQ,qBAAqBJ,eAClDE,kBAAmBN,EAAaQ,qBAAqBF,kBACrDC,aAAcP,EAAaQ,qBAAqBD,aAChDf,KAAM,CAAC,qDAET,CACEF,IAAK,IACLc,eAAgBH,EAAe,SAASG,eACxCE,kBAAmBL,EAAe,SAASK,kBAC3CC,aAAcN,EAAe,SAASM,aACtCf,KAAM,CAAC,yCAET,CACEF,IAAK,IACLc,eAAgBH,EAAe,SAASG,eACxCE,kBAAmBL,EAAe,SAASK,kBAC3CC,aAAcN,EAAe,SAASM,aACtCf,KAAM,CAAC,6BAET,CACEF,IAAK,IACLc,eAAgBF,EAAeO,eAAeL,eAC9CE,kBAAmBJ,EAAeO,eAAeH,kBACjDC,aAAcL,EAAeO,eAAeF,aAC5Cf,KAAM,CAAC,4DAET,CACEF,IAAK,IACLc,eAAgBF,EAAeQ,YAAYN,eAC3CE,kBAAmBJ,EAAeQ,YAAYJ,kBAC9CC,aAAcL,EAAeQ,YAAYH,aACzCf,KAAM,CAAC,oEAIX,OACE,qCACE,cAAC,IAAD,CAAKmB,QAAQ,SAASd,UAAU,oBAAhC,SAAqDC,EAAOc,cAC5D,cAAC,IAAD,CAAKD,QAAQ,SAAb,SACE,cAAC,IAAD,CAAOxB,QAASA,EAASgB,WAAYA,EAAYU,YAAY,EAAOC,KAAK,WADhDf,EAAMgB,eASFC,CAAYlB,EAAQC,MACrD,qBAAKF,UAAU,SAAf,gJCpGOoB,G,OAAI,CACfC,KAAM,OACNC,KAAM,OACNC,MAAO,QACPC,QAAS,UACTC,OAAQ,SACRC,MAAO,QACPC,IAAK,Q,gBCPMC,EAA4B,CACvCC,OAAQ,CACNC,GAAI,KAENC,IAAK,CACHD,GAAI,MAENE,OAAQ,CACNC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,MCZMC,EAAS,SAACC,GAAD,OAAYC,KAAKC,MAAkC,KAA3BF,EAASG,OAAOC,UAAkB,KCGnEC,EAAb,WACE,WAAYC,EAAgBC,GAAc,oBACxCC,KAAKF,eAAL,eAA0BA,UACnBE,KAAKF,eAAeG,mBACpBD,KAAKF,eAAeI,iBAC3BF,KAAKC,YAAcH,EAAeG,YAClCD,KAAKE,iBAAmBJ,EAAeI,iBACvCF,KAAKD,YAAcA,EAPvB,uDAWI,IDbmBP,ECabW,EAAsBtB,EAA0BI,OAAOe,KAAKD,YAAYK,YAE9E,MAAO,CACL,CACEpC,YAAa,yDACb8B,eAAe,aACbhB,OAAQkB,KAAKC,YAAcD,KAAKE,kBAC7BF,KAAKF,iBAGZ,CACE9B,YAAa,yDACb8B,eAAe,aACbhB,QD1BaU,EC0BEQ,KAAKC,aAAe,EAAIE,GAAuBH,KAAKE,iBD1B3CT,KAAKC,MAAMF,EAASG,OAAOC,WC2BhDI,KAAKF,sBAzBlB,K,QCDaO,EAAW,2BACnBhC,GADmB,IAEtBiC,SAAU,aCACC,EAAb,WACE,aASeC,GAAc,IARf1B,EAQc,EARdA,OACA2B,EAOc,EAPdA,WACAC,EAMc,EANdA,cACAlD,EAKc,EALdA,eACAmD,EAIc,EAJdA,MACAC,EAGc,EAHdA,MACAC,EAEc,EAFdA,QACAC,EACc,EADdA,YACc,oBAC1Bd,KAAKlB,OAASA,EACdkB,KAAKS,WAAaA,EAClBT,KAAKU,cAAgBA,EACrBV,KAAKxC,eAAiBA,EACtBwC,KAAKW,MAAQA,EACbX,KAAKY,MAAQA,EACbZ,KAAKa,QAAUA,GAAW,EAE1Bb,KAAKc,YAAcd,KAAKe,gBAAgBD,GACxCd,KAAKgB,OAAShB,KAAKiB,gBAAgBT,GApBvC,wDAwBI,IAAM7C,EAAeqC,KAAKkB,iBAAmBlB,KAAKmB,gBAAkBnB,KAAKoB,oBAAsBpB,KAAKqB,sBAAwBrB,KAAKsB,0BAC3H9D,EAAiBwC,KAAKkB,iBAAmBlB,KAAKmB,gBAAkBnB,KAAKoB,oBAAsBpB,KAAKqB,sBAAwBrB,KAAKsB,0BAA4BtB,KAAKuB,mBAC9J7D,EAAoBsC,KAAKU,cAAgBlD,GAAkB,EAAIwC,KAAKU,eAAiB/C,EAE3F,MAAO,CAAC4B,EAAO7B,GAAoB6B,EAAO5B,GAAe4B,EAAO/B,MA5BpE,sCAoGkBsD,GAAc,IAAD,EAC3B,OAAO,gCACJT,EAAY/B,KAAO,GADtB,cAEG+B,EAAY7B,MAAQ,GAFvB,cAGG6B,EAAY3B,OAAS,GAHxB,cAIG2B,EAAY5B,QAAU,GAJzB,cAKG4B,EAAY1B,MAAQ,GALvB,cAMG0B,EAAY9B,KAAO,GANtB,cAOG8B,EAAYzB,IAAM,GAPrB,cAQGyB,EAAYC,SAAW,GAR1B,sBASS,GATT,GAUKQ,KA/GT,sCAmHkBN,GACd,OAAO,aACLI,MAAO,IACPY,QAAS,EACTC,YAAa,GACbC,qBAAiBC,GACdnB,KAzHT,uCAgCI,IAAMoB,GAAuB5B,KAAKY,MAAQ,MAAQZ,KAAKY,MAAQ,KAAOZ,KAAKgB,OAAOJ,MAAQ,KAAOZ,KAAKgB,OAAOQ,SAC7G,OAAIxB,KAAKgB,OAAOJ,MAAQZ,KAAKY,OAAS,IAAMZ,KAAKY,OAAS,GACjDZ,KAAKlB,OAAS8C,EAAsB,GAGtC5B,KAAKlB,OAAS8C,IArCzB,sCAyCI,OAAO5B,KAAKW,QAzChB,4CA6CI,OAAO,EAAIX,KAAKc,YAAYe,OAAS7B,KAAKc,YAAYd,KAAKS,aAAe,KA7C9E,gDAuDI,IASMqB,EACU,IADVA,EAEU,EAFVA,EAGe,IAHfA,EAIe,EAEfC,EAAgBC,GAA2BhC,KAAKa,SAAY,GAAKb,KAAKa,QAAU,OACtF,OAAIb,KAAKS,aAAepC,EAAEE,MAAQyB,KAAKgB,OAAOU,kBAAoBrD,EAAEC,MAC1D,EAAIyD,GAAgBD,EAE1B9B,KAAKS,aAAepC,EAAEC,MAAQ0B,KAAKgB,OAAOU,kBAAoBrD,EAAEE,MAC1D,EAAIwD,GAAgBD,EAE1B9B,KAAKS,aAAepC,EAAEC,MAAQ0B,KAAKgB,OAAOU,kBAAoBrD,EAAEG,OAC1D,EAAIuD,GAAgBD,EAE1B9B,KAAKS,aAAepC,EAAEG,OAASwB,KAAKgB,OAAOU,kBAAoBrD,EAAEC,MAC3D,EAAIyD,GAAgBD,EAEvB,IAnFX,0CAuFI,OAAI9B,KAAKgB,OAAOS,YAAc,IACrB,GAAK,EAAI,EAAIzB,KAAKgB,OAAOS,aAE9BzB,KAAKgB,OAAOS,YAAc,EACrB,EAAKzB,KAAKgB,OAAOS,YAAc,EAEjC,EAAIzB,KAAKgB,OAAOS,cA7F3B,yCAiGI,OAAO,EAAIzB,KAAKxC,mBAjGpB,KCJayE,EAAe,CAC1BC,OAAQ,CACNhD,EAAG,CAACzB,gBAAiB,KAAMG,qBAAsB,MACjDuB,EAAG,CAAC1B,gBAAiB,KAAMG,qBAAsB,MACjDwB,EAAG,CAAC3B,gBAAiB,KAAMG,qBAAsB,KACjDyB,EAAG,CAAC5B,gBAAiB,IAAMG,qBAAsB,MACjD0B,EAAG,CAAC7B,gBAAiB,IAAMG,qBAAsB,MACjDuE,EAAG,CAAC1E,gBAAiB,KAAMG,qBAAsB,MACjDwE,EAAG,CAAC3E,gBAAiB,KAAMG,qBAAsB,MACjDyE,EAAG,CAAC5E,gBAAiB,KAAMG,qBAAsB,MACjD0E,EAAG,CAAC7E,gBAAiB,KAAMG,qBAAsB,KACjD2E,GAAI,CAAC9E,gBAAiB,IAAMG,qBAAsB,MAClD4E,GAAI,CAAC/E,gBAAiB,KAAMG,qBAAsB,OAEpD6E,MAAO,CACLvD,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACH6C,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,GAAI,KACJC,GAAI,KACJE,GAAI,KACJC,GAAI,MAENC,MAAO,CACL1D,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACH6C,EAAG,IACHC,EAAG,KACHC,EAAG,KACHC,EAAG,IACHC,GAAI,KACJC,GAAI,KACJE,GAAI,KACJC,GAAI,OCrCKE,EAAb,WACE,WAAYC,GAAa,oBACvB9C,KAAK8C,WAAa9C,KAAK+C,mBAAmBD,GAC1C9C,KAAKQ,YAAc,CACjBI,MAAO,GACPa,YAAa,IALnB,+DASqBqB,GACjB,OAAO,aACLhE,OAAQ,EACR2B,WAAYJ,EAAY9B,KACxBmC,cAAe,IACflD,eAAgB,GAChBmD,MAAO,EACPC,MAAO,EACPC,QAAS,EACTmC,aAAc,CAAC,EAAG,EAAG,GACrBlC,YAAa,IACVgC,KApBT,iCAyBI,MAAO,CACL1F,aAAc4C,KAAKiD,0BACnB5F,eAAgB2C,KAAKkD,4BACrB5F,eAAgB0C,KAAKmD,+BA5B3B,gDAgC6B,IAClBC,EADiB,YACIpD,KAAK8C,WAAWE,aADpB,MAElBK,EAAK,2BACNrD,KAAK8C,YADC,IAETnC,MAAOsB,EAAaC,OAAOkB,GAAmB3F,kBAE1C6F,EAAU,2BACXtD,KAAK8C,YADM,IAEdnC,MAAOsB,EAAaC,OAAOkB,GAAmBxF,uBAE1CH,EAAkB,IAAI8C,EAAW8C,EAAOrD,KAAKQ,aAAa+C,YAC1D3F,EAAuB,IAAI2C,EAAW+C,EAAYtD,KAAKQ,aAAa+C,YAE1E,MAAO,CACL9F,gBAAiB,CACfC,kBAAmBD,EAAgB,GACnCE,aAAcF,EAAgB,GAC9BD,eAAgBC,EAAgB,IAElCG,qBAAsB,CACpBF,kBAAmBE,EAAqB,GACxCD,aAAcC,EAAqB,GACnCJ,eAAgBI,EAAqB,OAtD7C,kDA2D+B,IAClB4F,EADiB,YACGxD,KAAK8C,WAAWE,aADnB,MAEpBK,EAAK,2BACNrD,KAAK8C,YADC,IAETnC,MAAOsB,EAAaQ,MAAMe,KAEtBnG,EAAiB,IAAIkD,EAAW8C,EAAOrD,KAAKQ,aAAa+C,YAE/D,MAAO,CACL,QAAS,CACP7F,kBAAmBL,EAAe,GAClCM,aAAcN,EAAe,GAC7BG,eAAgBH,EAAe,IAEjC,QAAS,CACPK,kBAAmBL,EAAe,GAClCM,aAAcN,EAAe,GAC7BG,eAAgBH,EAAe,OA5EvC,kDAkFI,IACWoG,EAFe,YAEKzD,KAAK8C,WAAWE,aAFrB,MAGpBK,EAAK,2BACNrD,KAAK8C,YADC,IAETnC,MAAOsB,EAAaW,MAAMa,KAEtBnG,EAAiB,IAAIiD,EAAW8C,EAAOrD,KAAKQ,aAAa+C,YAE/D,MAAO,CACL1F,eAAgB,CACdH,kBAAmBJ,EAAe,GAClCK,aAAcL,EAAe,GAC7BE,eAAgBF,EAAe,IAEjCQ,YAAa,CACXJ,kBAAmB6B,EAfF,GAeSjC,EAAe,IACzCK,aAAc4B,EAhBG,GAgBIjC,EAAe,IACpCE,eAAgB+B,EAjBC,GAiBMjC,EAAe,UAnG9C,K,kBCLe,MAA0B,mCCA1B,MAA0B,mC,OC4B1BoG,MAtBf,WAAmB,IAAD,EAC4BC,oBAAS,GADrC,mBACTC,EADS,KACOC,EADP,KAWhB,OACE,sBAAK5G,UAAU,SAAf,UACE,mBAAG6G,QAVW,WAChBD,GAAkB,IAShB,0BACA,eAAC,IAAD,CAAOrH,MAAM,mDAAWuH,QAASH,EAAgBI,OAAQ,KAAMC,SAP/C,WAClBJ,GAAkB,IAMhB,UACE,cAAC,IAAD,CAAOK,IAAKC,IACZ,cAAC,IAAD,CAAOD,IAAKE,WCuDLC,MArEf,WACE,IAAMvB,EAAa,CACjB7C,YAAa,IACbC,iBAAkB,KAClBQ,cAAe,IACflD,eAAgB,MAChBoD,MAAO,GACPC,QAAS,EACTmC,aAAc,CAAC,GAAI,EAAG,GACtBlC,YAAY,eACTzC,EAAEE,KAAO,OAURjC,EADY,IAAIuD,EAASiD,EANX,CAClBwB,KAAM,qBACN1D,MAAO,GACPR,WAAY,IAG0CmE,WAC9B1H,KAAI,SAAA2H,GAC5B,IAAMtH,EAAS,IAAI2F,EAAO2B,EAAS1E,gBAAgByE,WACnD,OAAO,aAACvG,YAAawG,EAASxG,aAAgBd,MAGhD,SAASuH,EAAajI,EAAOkI,GAC3B,OAAQ,eAAC,IAAD,CAAKzH,UAAU,WAAf,UACN,cAAC,IAAD,CAAK0H,KAAM,EAAGC,OAAQ,EAAtB,SAA0BpI,IAC1B,cAAC,IAAD,CAAKmI,KAAM,EAAG1H,UAAU,aAAxB,SAAsCyH,OAI1C,OACE,sBAAKzH,UAAU,MAAf,UACE,eAAC,IAAD,CAAKA,UAAU,SAAf,+EAAmC,cAAC,EAAD,OACnC,cAAC,IAAD,CAAKA,UAAU,mBAAf,kDACA,gCACGwH,EAAa,2BAAQ,MACrBA,EAAa,qBAAO,QACpBA,EAAa,2BAAQ,KACrBA,EAAa,qBAAO,OACpBA,EAAa,2BAAQ,UACrBA,EAAa,6CAAW,SACxBA,EAAa,uCAAU,SAE1B,cAAC,IAAD,CAAKxH,UAAU,qBAAf,kDACA,gCACGwH,EAAa,2BAAQ,4BACrBA,EAAa,2BAAQ,MACrBA,EAAa,2BAAQ,KACrBA,EAAa,iCAAS,OACtBA,EAAa,2BAAQ,4BACrBA,EAAa,2BAAQ,6BAExB,cAAC,IAAD,CAAKxH,UAAU,sBAAf,gCACA,8BACGwH,EAAa,qBAAO,OAEvB,cAAC,IAAD,CAAKxH,UAAU,eAAf,0BACA,gCACGwH,EAAa,2BAAQ,MACrBA,EAAa,2BAAQ,KACrBA,EAAa,2BAAQ,QAExB,cAAC,EAAD,CAAgBnI,QAASA,QC5DhBuI,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCAdQ,IAAS3I,OACP,cAAC,IAAM4I,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.77b969d9.chunk.js","sourcesContent":["import {Row, Col, Table, Tag} from 'antd';\nimport map from 'lodash/map'\nimport './DamageScenario.css';\n\nfunction DamageScenario({reports}) {\n  const columns = [\n    {\n      title: '未暴击伤害',\n      dataIndex: 'normalDamage',\n      key: 'normalDamage',\n    },\n    {\n      title: '暴击伤害',\n      dataIndex: 'criticalDamage',\n      key: 'criticalDamage',\n    },\n    {\n      title: '期望伤害',\n      dataIndex: 'damageExpectation',\n      key: 'damageExpectation',\n    },\n    {\n      title: '备注',\n      key: 'tags',\n      dataIndex: 'tags',\n      render: tags => (\n        <>\n          {tags.map(tag => {\n            const color = 'green';\n            return (\n              <Tag color={color} key={tag}>\n                {tag.toUpperCase()}\n              </Tag>\n            );\n          })}\n        </>\n      ),\n    },\n  ];\n\n  function renderTable(report, index) {\n    const {chargeLevel2, elementalSkill, elementalBurst} = report;\n    const dataSource = [\n      {\n        key: '1',\n        criticalDamage: chargeLevel2.frostflakeArrow.criticalDamage,\n        damageExpectation: chargeLevel2.frostflakeArrow.damageExpectation,\n        normalDamage: chargeLevel2.frostflakeArrow.normalDamage,\n        tags: ['二段蓄力霜华矢'],\n      },\n      {\n        key: '2',\n        criticalDamage: chargeLevel2.frostflakeArrowBloom.criticalDamage,\n        damageExpectation: chargeLevel2.frostflakeArrowBloom.damageExpectation,\n        normalDamage: chargeLevel2.frostflakeArrowBloom.normalDamage,\n        tags: ['二段蓄力霜华绽放'],\n      },\n      {\n        key: '3',\n        criticalDamage: elementalSkill['1-hit'].criticalDamage,\n        damageExpectation: elementalSkill['1-hit'].damageExpectation,\n        normalDamage: elementalSkill['1-hit'].normalDamage,\n        tags: ['施放元素战技'],\n      },\n      {\n        key: '4',\n        criticalDamage: elementalSkill['2-hit'].criticalDamage,\n        damageExpectation: elementalSkill['2-hit'].damageExpectation,\n        normalDamage: elementalSkill['2-hit'].normalDamage,\n        tags: ['冰莲爆炸'],\n      },\n      {\n        key: '5',\n        criticalDamage: elementalBurst.singleIceShard.criticalDamage,\n        damageExpectation: elementalBurst.singleIceShard.damageExpectation,\n        normalDamage: elementalBurst.singleIceShard.normalDamage,\n        tags: ['元素爆发1根冰棱伤害'],\n      },\n      {\n        key: '6',\n        criticalDamage: elementalBurst.allIceShard.criticalDamage,\n        damageExpectation: elementalBurst.allIceShard.damageExpectation,\n        normalDamage: elementalBurst.allIceShard.normalDamage,\n        tags: ['元素爆发51根冰棱总伤害'],\n      },\n    ];\n\n    return (\n      <>\n        <Row justify=\"center\" className=\"table-description\">{report.description}</Row>\n        <Row justify=\"center\" key={index.toString()}>\n          <Table columns={columns} dataSource={dataSource} pagination={false} size=\"small\"/>\n        </Row>\n      </>\n    )\n  }\n\n  return (\n    <div className=\"damage-scenario\">\n      {map(reports, (report, index) => renderTable(report, index))}\n      <div className=\"footer\">这计算器依然是一个未成熟的作品，请勿传播哟</div>\n    </div>\n  );\n}\n\nexport default DamageScenario;\n","export const E = {\n  PYRO: 'PYRO',\n  CRYO: 'CRYO',\n  HYDRO: 'HYDRO',\n  ELECTRO: 'ELECTRO',\n  DENTRO: 'DENTRO',\n  ANEMO: 'ANEMO',\n  GEO: 'GEO',\n}","export const WEAPON_PROTOTYPE_CRESCENT = {\n  attack: {\n    90: 510\n  },\n  sub: {\n    90: 0.413\n  },\n  refine: {\n    1: 0.36,\n    2: 0.45,\n    3: 0.54,\n    4: 0.63,\n    5: 0.72\n  }\n}","export const round2 = (number) => Math.round((number + Number.EPSILON) * 100) / 100\nexport const round0 = (number) => Math.round(number + Number.EPSILON)","import {WEAPON_PROTOTYPE_CRESCENT} from '../constant/weapon';\nimport {round0} from '../calculator/rounding';\n\nexport class Scenario {\n  constructor(characterStats, weaponStats) {\n    this.characterStats = {...characterStats};\n    delete this.characterStats.basicAttack;\n    delete this.characterStats.additionalAttack;\n    this.basicAttack = characterStats.basicAttack;\n    this.additionalAttack = characterStats.additionalAttack;\n    this.weaponStats = weaponStats;\n  }\n\n  generate() {\n    const attackIncreaseRatio = WEAPON_PROTOTYPE_CRESCENT.refine[this.weaponStats.refineRank]\n\n    return [\n      {\n        description: '发动试做澹月特效前',\n        characterStats: {\n          attack: this.basicAttack + this.additionalAttack,\n          ...this.characterStats,\n        }\n      },\n      {\n        description: '发动试做澹月特效后',\n        characterStats: {\n          attack: round0(this.basicAttack * (1 + attackIncreaseRatio) + this.additionalAttack),\n          ...this.characterStats,\n        }\n      }\n    ]\n  }\n}","import {E} from './element';\n\nexport const ATTACK_TYPE = {\n  ...E,\n  PHYSICAL: 'PHYSICAL'\n}","import {round2} from './rounding';\nimport {E} from '../constant/element';\nimport {ATTACK_TYPE} from '../constant/attack-type';\n\nexport class Calculator {\n  constructor({\n                attack,\n                attackType,\n                criticalRatio,\n                criticalDamage,\n                ratio,\n                level,\n                mastery,\n                damageBoost\n              }, targetStats) {\n    this.attack = attack;\n    this.attackType = attackType;\n    this.criticalRatio = criticalRatio;\n    this.criticalDamage = criticalDamage;\n    this.ratio = ratio;\n    this.level = level;\n    this.mastery = mastery || 0;\n\n    this.damageBoost = this.initDamageBoost(damageBoost);\n    this.target = this.initTargetStats(targetStats)\n  }\n\n  calculate() {\n    const normalDamage = this.attackMultiplier * this.ratioMultiplier * this.resistantMultiplier * this.damageBoostMultiplier * this.elementReactionMultiplier;\n    const criticalDamage = this.attackMultiplier * this.ratioMultiplier * this.resistantMultiplier * this.damageBoostMultiplier * this.elementReactionMultiplier * this.criticalMultiplier;\n    const damageExpectation = this.criticalRatio * criticalDamage + (1 - this.criticalRatio) * normalDamage;\n\n    return [round2(damageExpectation), round2(normalDamage), round2(criticalDamage)]\n  }\n\n  get attackMultiplier() {\n    const baseLevelMultiplier = (this.level + 100) / (this.level + 100 + (this.target.level + 100) * this.target.defence);\n    if (this.target.level - this.level >= 70 && this.level <= 10) {\n      return this.attack * baseLevelMultiplier * 0.5\n    }\n\n    return this.attack * baseLevelMultiplier\n  }\n\n  get ratioMultiplier() {\n    return this.ratio\n  }\n\n  get damageBoostMultiplier() {\n    return 1 + this.damageBoost.other + (this.damageBoost[this.attackType] || 0)\n  }\n\n  get elementReactionMultiplier() {\n    // SP = 1 + MR + RE + AE\n    // MR = k * 25EM / 9 * (EM + 1400)\n    // 其中k为类型系数，融化，蒸发为1，聚变为2.4。\n    // EM(Element Ratio)为元素精通数值，受到角色突破，角色天赋，武器副词缀，圣遗物主词条，圣遗物副词条，圣遗物套装效果影响。\n    // AE(Amplification Enhance)为增幅强度 魔女4蒸发融化增强15%\n    // RE(Reaction Enhancement)为反应增强 莫娜命之座1增强与水相关的反应15%\n    const typeMultiplier = {\n      vaporize: 1,\n      melt: 1,\n      overloaded: 2.4,\n      superconduct: 2.4,\n      electroCharged: 2.4,\n      shattered: 2.4,\n      swirl: 2.4\n    }\n    const reactionMultiplier = {\n      cryoPyroMelt: 1.5,\n      pyroCryoMelt: 2,\n      pyroHydroVaporize: 1.5,\n      hydroPyroVaporize: 2,\n    }\n    const masteryBoost = (typeMultiplier.melt * 25 * this.mastery) / (9 * (this.mastery + 1400))\n    if (this.attackType === E.CRYO && this.target.attachedElement === E.PYRO) {\n      return (1 + masteryBoost) * reactionMultiplier.cryoPyroMelt\n    }\n    if (this.attackType === E.PYRO && this.target.attachedElement === E.CRYO) {\n      return (1 + masteryBoost) * reactionMultiplier.pyroCryoMelt\n    }\n    if (this.attackType === E.PYRO && this.target.attachedElement === E.HYDRO) {\n      return (1 + masteryBoost) * reactionMultiplier.pyroHydroVaporize\n    }\n    if (this.attackType === E.HYDRO && this.target.attachedElement === E.PYRO) {\n      return (1 + masteryBoost) * reactionMultiplier.hydroPyroVaporize\n    }\n    return 1;\n  }\n\n  get resistantMultiplier() {\n    if (this.target.resistRatio > 0.75) {\n      return 1 / (1 + 4 * this.target.resistRatio)\n    }\n    if (this.target.resistRatio < 0) {\n      return 1 - (this.target.resistRatio / 2)\n    }\n    return 1 - this.target.resistRatio\n  }\n\n  get criticalMultiplier() {\n    return 1 + this.criticalDamage\n  }\n\n  initDamageBoost(damageBoost) {\n    return {\n      [ATTACK_TYPE.PYRO]: 0,\n      [ATTACK_TYPE.HYDRO]: 0,\n      [ATTACK_TYPE.DENTRO]: 0,\n      [ATTACK_TYPE.ELECTRO]: 0,\n      [ATTACK_TYPE.ANEMO]: 0,\n      [ATTACK_TYPE.CRYO]: 0,\n      [ATTACK_TYPE.GEO]: 0,\n      [ATTACK_TYPE.PHYSICAL]: 0,\n      other: 0,\n      ...damageBoost\n    }\n  }\n\n  initTargetStats(targetStats) {\n    return {\n      level: 100,\n      defence: 1,\n      resistRatio: 0.1,\n      attachedElement: undefined,\n      ...targetStats\n    }\n  }\n}\n","export const TALENT_GANYU = {\n  normal: {\n    1: {frostflakeArrow: 1.28, frostflakeArrowBloom: 2.18},\n    2: {frostflakeArrow: 1.38, frostflakeArrowBloom: 2.34},\n    3: {frostflakeArrow: 1.47, frostflakeArrowBloom: 2.50},\n    4: {frostflakeArrow: 1.60, frostflakeArrowBloom: 2.72},\n    5: {frostflakeArrow: 1.70, frostflakeArrowBloom: 2.88},\n    6: {frostflakeArrow: 1.79, frostflakeArrowBloom: 3.05},\n    7: {frostflakeArrow: 1.92, frostflakeArrowBloom: 3.26},\n    8: {frostflakeArrow: 2.05, frostflakeArrowBloom: 3.48},\n    9: {frostflakeArrow: 2.18, frostflakeArrowBloom: 3.70},\n    10: {frostflakeArrow: 2.30, frostflakeArrowBloom: 3.92},\n    11: {frostflakeArrow: 2.43, frostflakeArrowBloom: 4.13}\n  },\n  skill: {\n    1: 1.32,\n    2: 1.42,\n    3: 1.52,\n    4: 1.65,\n    5: 1.75,\n    6: 1.85,\n    7: 1.98,\n    8: 2.11,\n    9: 2.24,\n    10: 2.38,\n    11: 2.51,\n    12: 2.64,\n    13: 2.81,\n  },\n  burst: {\n    1: 0.71,\n    2: 0.76,\n    3: 0.81,\n    4: 0.88,\n    5: 0.93,\n    6: 0.98,\n    7: 1.05,\n    8: 1.12,\n    9: 1.20,\n    10: 1.27,\n    11: 1.34,\n    12: 1.41,\n    13: 1.49,\n  }\n}\n","import {Calculator} from '../calculator/real-damage';\nimport {TALENT_GANYU} from '../constant/talent';\nimport {ATTACK_TYPE} from '../constant/attack-type';\nimport {round2} from '../calculator/rounding';\n\nexport class Report {\n  constructor(ganyuStats) {\n    this.ganyuStats = this.initCharacterStats(ganyuStats);\n    this.targetStats = {\n      level: 85,\n      resistRatio: 0.1\n    }\n  }\n\n  initCharacterStats(ganyuStats) {\n    return {\n      attack: 0,\n      attackType: ATTACK_TYPE.CRYO,\n      criticalRatio: 0.05,\n      criticalDamage: 0.50,\n      ratio: 0,\n      level: 1,\n      mastery: 0,\n      talentLevels: [1, 1, 1],\n      damageBoost: {},\n      ...ganyuStats\n    };\n  }\n\n  generate() {\n    return {\n      chargeLevel2: this.buildChargeLevel2Report(),\n      elementalSkill: this.buildElementalSkillReport(),\n      elementalBurst: this.buildElementalBurstReport(),\n    }\n  }\n\n  buildChargeLevel2Report() {\n    const [normalTalentLevel] = this.ganyuStats.talentLevels;\n    const stats = {\n      ...this.ganyuStats,\n      ratio: TALENT_GANYU.normal[normalTalentLevel].frostflakeArrow,\n    }\n    const bloomStats = {\n      ...this.ganyuStats,\n      ratio: TALENT_GANYU.normal[normalTalentLevel].frostflakeArrowBloom,\n    }\n    const frostflakeArrow = new Calculator(stats, this.targetStats).calculate()\n    const frostflakeArrowBloom = new Calculator(bloomStats, this.targetStats).calculate()\n\n    return {\n      frostflakeArrow: {\n        damageExpectation: frostflakeArrow[0],\n        normalDamage: frostflakeArrow[1],\n        criticalDamage: frostflakeArrow[2]\n      },\n      frostflakeArrowBloom: {\n        damageExpectation: frostflakeArrowBloom[0],\n        normalDamage: frostflakeArrowBloom[1],\n        criticalDamage: frostflakeArrowBloom[2]\n      }\n    }\n  }\n\n  buildElementalSkillReport() {\n    const [, skillTalentLevel] = this.ganyuStats.talentLevels;\n    const stats = {\n      ...this.ganyuStats,\n      ratio: TALENT_GANYU.skill[skillTalentLevel],\n    }\n    const elementalSkill = new Calculator(stats, this.targetStats).calculate()\n\n    return {\n      '1-hit': {\n        damageExpectation: elementalSkill[0],\n        normalDamage: elementalSkill[1],\n        criticalDamage: elementalSkill[2]\n      },\n      '2-hit': {\n        damageExpectation: elementalSkill[0],\n        normalDamage: elementalSkill[1],\n        criticalDamage: elementalSkill[2]\n      }\n    }\n  }\n\n  buildElementalBurstReport() {\n    const burstMaxHits = 51;\n    const [, , burstTalentLevel] = this.ganyuStats.talentLevels;\n    const stats = {\n      ...this.ganyuStats,\n      ratio: TALENT_GANYU.burst[burstTalentLevel],\n    }\n    const elementalBurst = new Calculator(stats, this.targetStats).calculate()\n\n    return {\n      singleIceShard: {\n        damageExpectation: elementalBurst[0],\n        normalDamage: elementalBurst[1],\n        criticalDamage: elementalBurst[2]\n      },\n      allIceShard: {\n        damageExpectation: round2(elementalBurst[0] * burstMaxHits),\n        normalDamage: round2(elementalBurst[1] * burstMaxHits),\n        criticalDamage: round2(elementalBurst[2] * burstMaxHits)\n      }\n    }\n  }\n}","export default __webpack_public_path__ + \"static/media/alipay.a88338e8.jpg\";","export default __webpack_public_path__ + \"static/media/wechat.89f6ae66.jpg\";","import React, {useState} from 'react';\nimport {Image, Modal} from 'antd';\nimport alipay from '../asset/alipay.jpg'\nimport wechat from '../asset/wechat.jpg'\nimport './Coffee.css';\n\nfunction Coffee() {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleClose = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <div className=\"coffee\">\n      <a onClick={showModal}>☕️</a>\n      <Modal title=\"请作者喝杯咖啡！\" visible={isModalVisible} footer={null} onCancel={handleClose}>\n        <Image src={alipay}/>\n        <Image src={wechat}/>\n      </Modal>\n    </div>\n  );\n}\n\nexport default Coffee;\n","import {Row, Col} from 'antd';\nimport DamageScenario from './component/DamageScenario';\nimport './App.css';\nimport {E} from './constant/element';\nimport {Scenario} from './scenario/ganyu';\nimport {Report} from './report/ganyu';\nimport Coffee from './component/Coffee';\n\nfunction App() {\n  const ganyuStats = {\n    basicAttack: 823,\n    additionalAttack: 1215,\n    criticalRatio: 0.19,\n    criticalDamage: 2.198,\n    level: 81,\n    mastery: 0,\n    talentLevels: [11, 3, 6],\n    damageBoost: {\n      [E.CRYO]: 0.616\n    }\n  };\n  const weaponStats = {\n    name: 'prototype_crescent',\n    level: 90,\n    refineRank: 3\n  };\n\n  const scenarios = new Scenario(ganyuStats, weaponStats).generate();\n  const reports = scenarios.map(scenario => {\n    const report = new Report(scenario.characterStats).generate();\n    return {description: scenario.description, ...report}\n  })\n\n  function renderOneRow(title, value) {\n    return (<Row className=\"stat-row\">\n      <Col span={3} offset={9}>{title}</Col>\n      <Col span={3} className='stat-value'>{value}</Col>\n    </Row>)\n  }\n\n  return (\n    <div className=\"app\">\n      <Row className=\"header\">甘雨伤害计算小助手🐷<Coffee/></Row>\n      <Row className=\"title base-stats\">人物基础数值</Row>\n      <div>\n        {renderOneRow('人物等级', '81')}\n        {renderOneRow('攻击力', '2082')}\n        {renderOneRow('元素精通', '0')}\n        {renderOneRow('暴击率', '19%')}\n        {renderOneRow('暴击伤害', '219.8%')}\n        {renderOneRow('冰元素伤害加成', '61.6%')}\n        {renderOneRow('物理伤害加成', '0%')}\n      </div>\n      <Row className=\"title weapon-stats\">武器基础数值</Row>\n      <div>\n        {renderOneRow('装备武器', '试做澹月')}\n        {renderOneRow('武器等级', '90')}\n        {renderOneRow('精炼等级', '3')}\n        {renderOneRow('武器攻击力', '510')}\n        {renderOneRow('武器加成', '攻击力 41.3%')}\n        {renderOneRow('武器特效', '攻击力 54%')}\n      </div>\n      <Row className=\"title constellation\">命之座</Row>\n      <div>\n        {renderOneRow('命之座', '0')}\n      </div>\n      <Row className=\"title talent\">天赋</Row>\n      <div>\n        {renderOneRow('普通攻击', '11')}\n        {renderOneRow('元素战技', '3')}\n        {renderOneRow('元素爆发', '6')}\n      </div>\n      <DamageScenario reports={reports}/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'antd/dist/antd.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}