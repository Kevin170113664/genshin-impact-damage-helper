{"version":3,"sources":["calculator/rounding.js","component/DamageScenario.js","constant/element.js","constant/weapon.js","constant/artifact.js","scenario/ganyu.js","constant/attack-type.js","calculator/real-damage.js","constant/talent.js","report/ganyu.js","asset/alipay.jpg","asset/wechat.jpg","component/Coffee.js","calculator/enum.js","App.js","reportWebVitals.js","index.js"],"names":["round3","number","Math","round","Number","EPSILON","round2","round0","DamageScenario","reports","columns","title","dataIndex","key","render","tags","map","tag","color","toUpperCase","className","report","index","chargeLevel2","elementalSkill","elementalBurst","dataSource","push","criticalDamage","frostflakeArrow","damageExpectation","normalDamage","frostflakeArrowBloom","singleIceShard","allIceShard","lg","xs","justify","description","pagination","size","toString","renderTable","E","PYRO","CRYO","HYDRO","ELECTRO","DENTRO","ANEMO","GEO","WEAPON_PROTOTYPE_CRESCENT","label","name","attack","90","sub","refine","1","2","3","4","5","WEAPON_AMOS_BOW","WEAPON_SKYWARD_HARP","WANDERER_TROUPE","BLIZZARD_STRAYER","Scenario","characterStats","weaponStats","this","basicAttack","additionalAttack","constellation","artifact","generateSkywardScenarios","generateAmosScenarios","generateCrescentScenarios","undividedHeartBonus","level","PassiveTalentBonus","targetResistanceReduction","scenarios","scenario1","scenario2","criticalRatio","targetStats","resistRatio","scenario3","attachedElement","isChargedAttack","scenario4","damageBoost","refineRank","amosChargeAttackBonus","amosChargeAttackAdditionalBonus","blizzardStrayerBonus","other","arrowFlyElapsed","scenario5","attackType","scenario6","scenario7","attackIncreaseRatio","shatteringIceBonus","ATTACK_TYPE","PHYSICAL","Calculator","ratio","mastery","initDamageBoost","target","initTargetStats","attackMultiplier","ratioMultiplier","resistantMultiplier","damageBoostMultiplier","elementReactionMultiplier","criticalMultiplier","defence","undefined","baseLevelMultiplier","reactionMultiplier","masteryBoost","typeMultiplier","TALENT_GANYU","normal","6","7","8","9","10","11","skill","12","13","burst","Report","ganyuStats","initCharacterStats","initWeaponStats","talentLevels","buildAmosChargeLevel2Report","buildElementalSkillReport","buildElementalBurstReport","buildChargeLevel2Report","normalTalentLevel","troupeBonus","stats","calculate","frostflakeFlyBonusTimes","parseInt","amosArrowFlyElapsedBonus","min","bloomStats","skillTalentLevel","burstTalentLevel","Coffee","useState","isModalVisible","setIsModalVisible","onClick","visible","footer","onCancel","src","alipay","wechat","getEnum","value","range","includes","App","setLevel","setBasicAttack","setAdditionalAttack","setMastery","setCriticalRatio","setCriticalDamage","cryoDamageBonus","setCryoDamageBonus","normalTalent","setNormalTalent","skillTalent","setSkillTalent","burstTalent","setBurstTalent","setConstellation","setRefineRank","weaponName","setWeaponName","setArtifact","generate","scenario","renderNumber","onChange","max","isPercentage","span","formatter","parser","replace","onSelectWeapon","onSelectArtifact","renderDropdown","menu","overlay","placement","onSelect","Item","getWeaponLabel","getArtifactLabel","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be11bc42.chunk.js","sourcesContent":["export const round3 = (number) => Math.round((number + Number.EPSILON) * 1000) / 1000\nexport const round2 = (number) => Math.round((number + Number.EPSILON) * 100) / 100\nexport const round0 = (number) => Math.round(number + Number.EPSILON)","import {Row, Col, Table, Tag} from 'antd';\nimport map from 'lodash/map'\nimport './DamageScenario.css';\nimport {round0} from '../calculator/rounding';\n\nfunction DamageScenario({reports}) {\n  const columns = [\n    {\n      title: '未暴击伤害',\n      dataIndex: 'normalDamage',\n      key: 'normalDamage',\n    },\n    {\n      title: '暴击伤害',\n      dataIndex: 'criticalDamage',\n      key: 'criticalDamage',\n    },\n    {\n      title: '期望伤害',\n      dataIndex: 'damageExpectation',\n      key: 'damageExpectation',\n    },\n    {\n      title: '备注',\n      key: 'tags',\n      dataIndex: 'tags',\n      render: tags => (\n        <>\n          {tags.map(tag => {\n            const color = 'green';\n            return (\n              <Tag color={color} key={tag}>\n                {tag.toUpperCase()}\n              </Tag>\n            );\n          })}\n        </>\n      ),\n    },\n  ];\n\n  function renderTable(report, index) {\n    const {chargeLevel2, elementalSkill, elementalBurst} = report;\n\n    const dataSource = []\n    if (chargeLevel2) {\n      dataSource.push({\n        key: '1',\n        criticalDamage: round0(chargeLevel2.frostflakeArrow.criticalDamage),\n        damageExpectation: round0(chargeLevel2.frostflakeArrow.damageExpectation),\n        normalDamage: round0(chargeLevel2.frostflakeArrow.normalDamage),\n        tags: ['霜华矢'],\n      })\n      dataSource.push({\n        key: '2',\n        criticalDamage: round0(chargeLevel2.frostflakeArrowBloom.criticalDamage),\n        damageExpectation: round0(chargeLevel2.frostflakeArrowBloom.damageExpectation),\n        normalDamage: round0(chargeLevel2.frostflakeArrowBloom.normalDamage),\n        tags: ['霜华绽放'],\n      })\n    }\n\n    if (elementalSkill) {\n      dataSource.push({\n        key: '3',\n        criticalDamage: round0(elementalSkill['1-hit'].criticalDamage),\n        damageExpectation: round0(elementalSkill['1-hit'].damageExpectation),\n        normalDamage: round0(elementalSkill['1-hit'].normalDamage),\n        tags: ['释放冰莲'],\n      })\n      dataSource.push({\n        key: '4',\n        criticalDamage: round0(elementalSkill['2-hit'].criticalDamage),\n        damageExpectation: round0(elementalSkill['2-hit'].damageExpectation),\n        normalDamage: round0(elementalSkill['2-hit'].normalDamage),\n        tags: ['冰莲爆炸'],\n      })\n    }\n\n    if (elementalBurst) {\n      dataSource.push({\n        key: '5',\n        criticalDamage: round0(elementalBurst.singleIceShard.criticalDamage),\n        damageExpectation: round0(elementalBurst.singleIceShard.damageExpectation),\n        normalDamage: round0(elementalBurst.singleIceShard.normalDamage),\n        tags: ['冰雨1根冰棱'],\n      })\n      dataSource.push(      {\n        key: '6',\n        criticalDamage: round0(elementalBurst.allIceShard.criticalDamage),\n        damageExpectation: round0(elementalBurst.allIceShard.damageExpectation),\n        normalDamage: round0(elementalBurst.allIceShard.normalDamage),\n        tags: ['冰雨51根冰棱'],\n      })\n    }\n\n    return (\n      <Col lg={12} xs={24} key={index.toString()}>\n        <Row justify=\"center\" className=\"table-description\">{report.description}</Row>\n        <Row justify=\"center\" className=\"scenario-table\">\n          <Table columns={columns} dataSource={dataSource} pagination={false} size=\"small\"/>\n        </Row>\n      </Col>\n    )\n  }\n\n  return (\n    <Row className=\"damage-scenario\">\n      {map(reports, (report, index) => renderTable(report, index))}\n    </Row>\n  );\n}\n\nexport default DamageScenario;\n","export const E = {\n  PYRO: 'PYRO',\n  CRYO: 'CRYO',\n  HYDRO: 'HYDRO',\n  ELECTRO: 'ELECTRO',\n  DENTRO: 'DENTRO',\n  ANEMO: 'ANEMO',\n  GEO: 'GEO',\n}","export const WEAPON_PROTOTYPE_CRESCENT = {\n  label: '试做澹月',\n  name: 'prototype_crescent',\n  attack: {\n    90: 510\n  },\n  sub: {\n    90: 0.413\n  },\n  refine: {\n    1: 0.36,\n    2: 0.45,\n    3: 0.54,\n    4: 0.63,\n    5: 0.72\n  }\n}\n\nexport const WEAPON_AMOS_BOW = {\n  label: '阿莫斯之弓',\n  name: 'amos_bow',\n  attack: {\n    90: 608\n  },\n  sub: {\n    90: 0.496\n  },\n  refine: {\n    1: [0.12, 0.08],\n    2: [0.15, 0.10],\n    3: [0.18, 0.12],\n    4: [0.21, 0.14],\n    5: [0.24, 0.16]\n  }\n}\n\nexport const WEAPON_SKYWARD_HARP = {\n  label: '天空之翼',\n  name: 'skyward_harp',\n  attack: {\n    90: 674\n  },\n  sub: {\n    90: 0.221\n  },\n  refine: {\n    1: [0.20, 1.25],\n    2: [0.25, 1.25],\n    3: [0.30, 1.25],\n    4: [0.35, 1.25],\n    5: [0.40, 1.25]\n  }\n}","export const WANDERER_TROUPE = {\n  name: 'WANDERER_TROUPE',\n  label: '乐团4',\n  masteryBoost: 80,\n  chargedAttackDamageBoost: 0.35\n}\n\nexport const BLIZZARD_STRAYER = {\n  name: 'BLIZZARD_STRAYER',\n  label: '冰4',\n  affectedByCryo: 0.2,\n  frozenOpponent: 0.4\n}\n","import {WEAPON_AMOS_BOW, WEAPON_PROTOTYPE_CRESCENT, WEAPON_SKYWARD_HARP} from '../constant/weapon';\nimport {round0, round2, round3} from '../calculator/rounding';\nimport {BLIZZARD_STRAYER, WANDERER_TROUPE} from '../constant/artifact';\nimport {E} from '../constant/element';\n\nexport class Scenario {\n  constructor(characterStats, weaponStats) {\n    this.characterStats = {...characterStats};\n    delete this.characterStats.basicAttack;\n    delete this.characterStats.additionalAttack;\n    this.basicAttack = characterStats.basicAttack;\n    this.additionalAttack = characterStats.additionalAttack;\n    this.constellation = characterStats.constellation;\n    this.artifact = characterStats.artifact;\n    this.weaponStats = weaponStats;\n  }\n\n  generate() {\n    if (this.weaponStats.name === WEAPON_SKYWARD_HARP.name) {\n      return this.generateSkywardScenarios()\n    }\n\n    if (this.weaponStats.name === WEAPON_AMOS_BOW.name) {\n      return this.generateAmosScenarios()\n    }\n\n    return this.generateCrescentScenarios();\n  }\n\n  generateSkywardScenarios() {\n    const shatteringIceBonus = 0.15\n    const blizzardStrayerBonus = 0.2\n    const undividedHeartBonus = this.characterStats.level > 20 ? 0.2 : 0\n    const PassiveTalentBonus = this.characterStats.level > 70 ? 0.2 : 0;\n    const targetResistanceReduction = this.constellation >= 1 ? 0.15 : 0;\n\n    const scenarios = [];\n\n    const scenario1 = {\n      description: '怪没有冰附着',\n      characterStats: {\n        ...this.characterStats,\n        attack: round0(this.basicAttack + this.additionalAttack),\n      },\n    };\n    const scenario2 = {\n      description: '怪被冰元素附着(双冰共鸣)',\n      characterStats: {\n        ...this.characterStats,\n        attack: round0(this.basicAttack + this.additionalAttack),\n        criticalRatio: round3(this.characterStats.criticalRatio + shatteringIceBonus + undividedHeartBonus + blizzardStrayerBonus)\n      },\n      targetStats: {\n        resistRatio: round2(0.1 - targetResistanceReduction)\n      }\n    };\n\n    scenarios.push(scenario1)\n    scenarios.push(scenario2)\n\n    if (this.artifact === WANDERER_TROUPE.name) {\n      const scenario3 = {\n        description: '怪物为火附着，每段攻击都融化',\n        characterStats: {\n          ...this.characterStats,\n          attack: round0(this.basicAttack + this.additionalAttack),\n          criticalRatio: round2(this.characterStats.criticalRatio + undividedHeartBonus),\n        },\n        targetStats: {\n          attachedElement: E.PYRO,\n          resistRatio: round2(0.1 - targetResistanceReduction)\n        },\n        weaponStats: {\n          isChargedAttack: true\n        }\n      }\n      scenarios.push(scenario3)\n    }\n\n    if (this.constellation >= 4) {\n      const forthConstellationMaxBonus = 0.25;\n      const scenario4 = {\n        description: '怪物被冰附着，站冰雨内吃满4命增伤(双冰共鸣)',\n        characterStats: {\n          ...this.characterStats,\n          attack: round0(this.basicAttack + this.additionalAttack),\n          criticalRatio: round3(this.characterStats.criticalRatio + shatteringIceBonus + undividedHeartBonus + blizzardStrayerBonus),\n          damageBoost: {\n            ...this.characterStats.damageBoost,\n            [E.CRYO]: round3((this.characterStats.damageBoost[E.CRYO] || 0) + PassiveTalentBonus + forthConstellationMaxBonus),\n          }\n        },\n        targetStats: {\n          resistRatio: round2(0.1 - targetResistanceReduction)\n        },\n      };\n      scenarios.push(scenario4)\n    }\n\n    return scenarios\n  }\n\n  generateAmosScenarios() {\n    const scenarios = [];\n\n    const [amosChargeAttackBonus, amosChargeAttackAdditionalBonus] = WEAPON_AMOS_BOW.refine[this.weaponStats.refineRank]\n    const shatteringIceBonus = 0.15\n    const blizzardStrayerBonus = this.artifact === BLIZZARD_STRAYER.name ? 0.2 : 0\n    const undividedHeartBonus = this.characterStats.level > 20 ? 0.2 : 0\n    const PassiveTalentBonus = this.characterStats.level > 70 ? 0.2 : 0;\n    const targetResistanceReduction = this.constellation >= 1 ? 0.15 : 0;\n\n    const scenario1 = {\n      description: '贴脸二段蓄力射，霜华矢不足0.1秒即击中敌人',\n      characterStats: {\n        ...this.characterStats,\n        attack: round0(this.basicAttack + this.additionalAttack),\n        damageBoost: {\n          ...this.characterStats.damageBoost,\n          other: round3((this.characterStats.damageBoost.other || 0) + amosChargeAttackBonus)\n        }\n      },\n      weaponStats: {\n        name: WEAPON_AMOS_BOW.name,\n        refineRank: this.weaponStats.refineRank,\n        isChargedAttack: true,\n        arrowFlyElapsed: 0\n      }\n    };\n    const scenario2 = {\n      description: '和怪的距离为一个冰雨半径，霜华矢吃2段加成，霜华绽放吃满5段加成',\n      characterStats: {\n        ...this.characterStats,\n        attack: round0(this.basicAttack + this.additionalAttack),\n        damageBoost: {\n          ...this.characterStats.damageBoost,\n          other: round3((this.characterStats.damageBoost.other || 0) + amosChargeAttackBonus + amosChargeAttackAdditionalBonus * 2)\n        }\n      },\n      weaponStats: {\n        name: WEAPON_AMOS_BOW.name,\n        refineRank: this.weaponStats.refineRank,\n        isChargedAttack: true,\n        arrowFlyElapsed: 0.2\n      }\n    };\n    const scenario3 = {\n      description: '和怪的距离超过一个冰雨直径，二段蓄力射均吃满加成',\n      characterStats: {\n        ...this.characterStats,\n        attack: round0(this.basicAttack + this.additionalAttack),\n        damageBoost: {\n          ...this.characterStats.damageBoost,\n          other: round3((this.characterStats.damageBoost.other || 0) + amosChargeAttackBonus + amosChargeAttackAdditionalBonus * 5)\n        }\n      },\n      weaponStats: {\n        name: WEAPON_AMOS_BOW.name,\n        refineRank: this.weaponStats.refineRank,\n        isChargedAttack: true,\n        arrowFlyElapsed: 0.5\n      }\n    };\n    const scenario4 = {\n      description: '蓄力二段吃满阿莫斯加成，怪物为冰附着(双冰共鸣)',\n      characterStats: {\n        ...this.characterStats,\n        attack: round0(this.basicAttack + this.additionalAttack),\n        criticalRatio: round3(this.characterStats.criticalRatio + shatteringIceBonus + undividedHeartBonus + blizzardStrayerBonus),\n        damageBoost: {\n          ...this.characterStats.damageBoost,\n          other: round3((this.characterStats.damageBoost.other || 0) + amosChargeAttackBonus + amosChargeAttackAdditionalBonus * 5)\n        }\n      },\n      targetStats: {\n        resistRatio: round2(0.1 - targetResistanceReduction)\n      },\n      weaponStats: {\n        name: WEAPON_AMOS_BOW.name,\n        refineRank: this.weaponStats.refineRank,\n        isChargedAttack: true,\n        arrowFlyElapsed: 0.5\n      }\n    };\n    scenarios.push(scenario1);\n    scenarios.push(scenario2);\n    scenarios.push(scenario3);\n    scenarios.push(scenario4);\n\n    if (this.artifact === WANDERER_TROUPE.name) {\n      const scenario5 = {\n        description: '蓄力二段吃满阿莫斯加成，怪物为火附着，两段融化',\n        characterStats: {\n          ...this.characterStats,\n          attack: round0(this.basicAttack + this.additionalAttack),\n          attackType: E.CRYO,\n          damageBoost: {\n            ...this.characterStats.damageBoost,\n            other: round3((this.characterStats.damageBoost.other || 0) + amosChargeAttackBonus + amosChargeAttackAdditionalBonus * 5)\n          }\n        },\n        targetStats: {\n          attachedElement: E.PYRO,\n          resistRatio: round2(0.1 - targetResistanceReduction)\n        },\n        weaponStats: {\n          name: WEAPON_AMOS_BOW.name,\n          refineRank: this.weaponStats.refineRank,\n          isChargedAttack: true,\n          arrowFlyElapsed: 0.5\n        }\n      };\n      scenarios.push(scenario5)\n    }\n\n    if (this.constellation >= 4) {\n      const forthConstellationMaxBonus = 0.25;\n      const scenario6 = {\n        description: '蓄力二段吃满阿莫斯加成，怪物为冰附着，站冰雨内吃满4命增伤(双冰共鸣)',\n        characterStats: {\n          ...this.characterStats,\n          attack: round0(this.basicAttack + this.additionalAttack),\n          criticalRatio: round3(this.characterStats.criticalRatio + shatteringIceBonus + undividedHeartBonus + blizzardStrayerBonus),\n          damageBoost: {\n            ...this.characterStats.damageBoost,\n            [E.CRYO]: round3((this.characterStats.damageBoost[E.CRYO] || 0) + PassiveTalentBonus + forthConstellationMaxBonus),\n            other: round3((this.characterStats.damageBoost.other || 0) + amosChargeAttackBonus + amosChargeAttackAdditionalBonus * 5)\n          }\n        },\n        targetStats: {\n          resistRatio: round2(0.1 - targetResistanceReduction)\n        },\n        weaponStats: {\n          name: WEAPON_AMOS_BOW.name,\n          refineRank: this.weaponStats.refineRank,\n          isChargedAttack: true,\n          arrowFlyElapsed: 0.5\n        }\n      };\n      scenarios.push(scenario6)\n    }\n\n    const scenario7 = {\n      description: '阿莫斯之弓对元素战技和元素爆发没有加成',\n      characterStats: {\n        ...this.characterStats,\n        attack: round0(this.basicAttack + this.additionalAttack),\n      },\n      weaponStats: {\n        name: WEAPON_AMOS_BOW.name,\n        refineRank: this.weaponStats.refineRank\n      }\n    };\n    scenarios.push(scenario7);\n\n    return scenarios\n  }\n\n  generateCrescentScenarios() {\n    const attackIncreaseRatio = WEAPON_PROTOTYPE_CRESCENT.refine[this.weaponStats.refineRank]\n    const shatteringIceBonus = 0.15\n    const blizzardStrayerBonus = this.artifact === BLIZZARD_STRAYER.name ? 0.2 : 0\n    const undividedHeartBonus = this.characterStats.level > 20 ? 0.2 : 0\n    const PassiveTalentBonus = this.characterStats.level > 70 ? 0.2 : 0;\n    const targetResistanceReduction = this.constellation >= 1 ? 0.15 : 0;\n\n    const scenarios = [];\n\n    const scenario1 = {\n      description: '发动试做澹月特效前',\n      characterStats: {\n        ...this.characterStats,\n        attack: this.basicAttack + this.additionalAttack,\n      }\n    };\n\n    const scenario2 = {\n      description: '发动试做澹月特效后(双冰共鸣)',\n      characterStats: {\n        ...this.characterStats,\n        attack: round0(this.basicAttack * (1 + attackIncreaseRatio) + this.additionalAttack),\n        criticalRatio: round3(this.characterStats.criticalRatio + shatteringIceBonus + undividedHeartBonus + blizzardStrayerBonus),\n      },\n      targetStats: {\n        resistRatio: round2(0.1 - targetResistanceReduction)\n      }\n    };\n\n    const scenario3 = {\n      description: '发动试做澹月特效后站在冰雨内(双冰共鸣)',\n      characterStats: {\n        ...this.characterStats,\n        attack: round0(this.basicAttack * (1 + attackIncreaseRatio) + this.additionalAttack),\n        criticalRatio: round2(this.characterStats.criticalRatio + shatteringIceBonus + undividedHeartBonus + blizzardStrayerBonus),\n        damageBoost: {\n          ...this.characterStats.damageBoost,\n          other: round3((this.characterStats.damageBoost.other || 0) + PassiveTalentBonus)\n        }\n      },\n      targetStats: {\n        resistRatio: round2(0.1 - targetResistanceReduction)\n      }\n    };\n\n    scenarios.push(scenario1);\n    scenarios.push(scenario2);\n    scenarios.push(scenario3);\n\n    if (this.artifact === WANDERER_TROUPE.name) {\n      const scenario4 = {\n        description: '发动试做澹月特效后，怪物为火附着，每段攻击都融化',\n        characterStats: {\n          ...this.characterStats,\n          attack: round0(this.basicAttack * (1 + attackIncreaseRatio) + this.additionalAttack),\n          criticalRatio: round2(this.characterStats.criticalRatio + undividedHeartBonus),\n        },\n        targetStats: {\n          attachedElement: E.PYRO,\n          resistRatio: round2(0.1 - targetResistanceReduction),\n        }\n      }\n      scenarios.push(scenario4)\n    }\n\n    if (this.constellation >= 4) {\n      const forthConstellationMaxBonus = 0.25;\n      const scenario5 = {\n        description: '发动试做澹月特效后站在冰雨内吃满4命增伤(双冰共鸣)',\n        characterStats: {\n          ...this.characterStats,\n          attack: round0(this.basicAttack * (1 + attackIncreaseRatio) + this.additionalAttack),\n          criticalRatio: round2(this.characterStats.criticalRatio + shatteringIceBonus + undividedHeartBonus + blizzardStrayerBonus),\n          damageBoost: {\n            ...this.characterStats.damageBoost,\n            [E.CRYO]: round3((this.characterStats.damageBoost[E.CRYO] || 0) + PassiveTalentBonus + forthConstellationMaxBonus),\n          }\n        },\n        targetStats: {\n          resistRatio: round2(0.1 - targetResistanceReduction)\n        }\n      }\n      scenarios.push(scenario5)\n    }\n\n    return scenarios\n  }\n}","import {E} from './element';\n\nexport const ATTACK_TYPE = {\n  ...E,\n  PHYSICAL: 'PHYSICAL'\n}","import {round2} from './rounding';\nimport {E} from '../constant/element';\nimport {ATTACK_TYPE} from '../constant/attack-type';\n\nexport class Calculator {\n  constructor({\n                attack,\n                attackType,\n                criticalRatio,\n                criticalDamage,\n                ratio,\n                level,\n                mastery,\n                damageBoost\n              }, targetStats) {\n    this.attack = attack;\n    this.attackType = attackType;\n    this.criticalRatio = criticalRatio > 1 ? 1 : criticalRatio;\n    this.criticalDamage = criticalDamage;\n    this.ratio = ratio;\n    this.level = level;\n    this.mastery = mastery || 0;\n\n    this.damageBoost = this.initDamageBoost(damageBoost);\n    this.target = this.initTargetStats(targetStats)\n  }\n\n  calculate() {\n    const normalDamage = this.attackMultiplier * this.ratioMultiplier * this.resistantMultiplier * this.damageBoostMultiplier * this.elementReactionMultiplier;\n    const criticalDamage = this.attackMultiplier * this.ratioMultiplier * this.resistantMultiplier * this.damageBoostMultiplier * this.elementReactionMultiplier * this.criticalMultiplier;\n    const damageExpectation = this.criticalRatio * criticalDamage + (1 - this.criticalRatio) * normalDamage;\n\n    return [round2(damageExpectation), round2(normalDamage), round2(criticalDamage)]\n  }\n\n  get attackMultiplier() {\n    const baseLevelMultiplier = (this.level + 100) / (this.level + 100 + (this.target.level + 100) * this.target.defence);\n    if (this.target.level - this.level >= 70 && this.level <= 10) {\n      return this.attack * baseLevelMultiplier * 0.5\n    }\n\n    return this.attack * baseLevelMultiplier\n  }\n\n  get ratioMultiplier() {\n    return this.ratio\n  }\n\n  get damageBoostMultiplier() {\n    return 1 + this.damageBoost.other + (this.damageBoost[this.attackType] || 0)\n  }\n\n  get elementReactionMultiplier() {\n    // SP = 1 + MR + RE + AE\n    // MR = k * 25EM / 9 * (EM + 1400)\n    // 其中k为类型系数，融化，蒸发为1，聚变为2.4。\n    // EM(Element Ratio)为元素精通数值，受到角色突破，角色天赋，武器副词缀，圣遗物主词条，圣遗物副词条，圣遗物套装效果影响。\n    // AE(Amplification Enhance)为增幅强度 魔女4蒸发融化增强15%\n    // RE(Reaction Enhancement)为反应增强 莫娜命之座1增强与水相关的反应15%\n    const typeMultiplier = {\n      vaporize: 1,\n      melt: 1,\n      overloaded: 2.4,\n      superconduct: 2.4,\n      electroCharged: 2.4,\n      shattered: 2.4,\n      swirl: 2.4\n    }\n    const reactionMultiplier = {\n      cryoPyroMelt: 1.5,\n      pyroCryoMelt: 2,\n      pyroHydroVaporize: 1.5,\n      hydroPyroVaporize: 2,\n    }\n    const masteryBoost = (typeMultiplier.melt * 25 * this.mastery) / (9 * (this.mastery + 1400))\n    if (this.attackType === E.CRYO && this.target.attachedElement === E.PYRO) {\n      return (1 + masteryBoost) * reactionMultiplier.cryoPyroMelt\n    }\n    if (this.attackType === E.PYRO && this.target.attachedElement === E.CRYO) {\n      return (1 + masteryBoost) * reactionMultiplier.pyroCryoMelt\n    }\n    if (this.attackType === E.PYRO && this.target.attachedElement === E.HYDRO) {\n      return (1 + masteryBoost) * reactionMultiplier.pyroHydroVaporize\n    }\n    if (this.attackType === E.HYDRO && this.target.attachedElement === E.PYRO) {\n      return (1 + masteryBoost) * reactionMultiplier.hydroPyroVaporize\n    }\n    return 1;\n  }\n\n  get resistantMultiplier() {\n    if (this.target.resistRatio > 0.75) {\n      return 1 / (1 + 4 * this.target.resistRatio)\n    }\n    if (this.target.resistRatio < 0) {\n      return 1 - (this.target.resistRatio / 2)\n    }\n    return 1 - this.target.resistRatio\n  }\n\n  get criticalMultiplier() {\n    return 1 + this.criticalDamage\n  }\n\n  initDamageBoost(damageBoost) {\n    return {\n      [ATTACK_TYPE.PYRO]: 0,\n      [ATTACK_TYPE.HYDRO]: 0,\n      [ATTACK_TYPE.DENTRO]: 0,\n      [ATTACK_TYPE.ELECTRO]: 0,\n      [ATTACK_TYPE.ANEMO]: 0,\n      [ATTACK_TYPE.CRYO]: 0,\n      [ATTACK_TYPE.GEO]: 0,\n      [ATTACK_TYPE.PHYSICAL]: 0,\n      other: 0,\n      ...damageBoost\n    }\n  }\n\n  initTargetStats(targetStats) {\n    return {\n      level: 100,\n      defence: 1,\n      resistRatio: 0.1,\n      attachedElement: undefined,\n      ...targetStats\n    }\n  }\n}\n","export const TALENT_GANYU = {\n  normal: {\n    1: {frostflakeArrow: 1.28, frostflakeArrowBloom: 2.18},\n    2: {frostflakeArrow: 1.38, frostflakeArrowBloom: 2.34},\n    3: {frostflakeArrow: 1.47, frostflakeArrowBloom: 2.50},\n    4: {frostflakeArrow: 1.60, frostflakeArrowBloom: 2.72},\n    5: {frostflakeArrow: 1.70, frostflakeArrowBloom: 2.88},\n    6: {frostflakeArrow: 1.79, frostflakeArrowBloom: 3.05},\n    7: {frostflakeArrow: 1.92, frostflakeArrowBloom: 3.26},\n    8: {frostflakeArrow: 2.05, frostflakeArrowBloom: 3.48},\n    9: {frostflakeArrow: 2.18, frostflakeArrowBloom: 3.70},\n    10: {frostflakeArrow: 2.30, frostflakeArrowBloom: 3.92},\n    11: {frostflakeArrow: 2.43, frostflakeArrowBloom: 4.13}\n  },\n  skill: {\n    1: 1.32,\n    2: 1.42,\n    3: 1.52,\n    4: 1.65,\n    5: 1.75,\n    6: 1.85,\n    7: 1.98,\n    8: 2.11,\n    9: 2.24,\n    10: 2.38,\n    11: 2.51,\n    12: 2.64,\n    13: 2.81,\n  },\n  burst: {\n    1: 0.71,\n    2: 0.76,\n    3: 0.81,\n    4: 0.88,\n    5: 0.93,\n    6: 0.98,\n    7: 1.05,\n    8: 1.12,\n    9: 1.20,\n    10: 1.27,\n    11: 1.34,\n    12: 1.41,\n    13: 1.49,\n  }\n}\n","import min from 'lodash/min';\nimport {Calculator} from '../calculator/real-damage';\nimport {TALENT_GANYU} from '../constant/talent';\nimport {ATTACK_TYPE} from '../constant/attack-type';\nimport {round2, round3} from '../calculator/rounding';\nimport {WEAPON_AMOS_BOW} from '../constant/weapon';\nimport {WANDERER_TROUPE} from '../constant/artifact';\n\nexport class Report {\n  constructor(ganyuStats, targetStats, weaponStats) {\n    this.ganyuStats = this.initCharacterStats(ganyuStats);\n    this.targetStats = this.initTargetStats(targetStats);\n    this.weaponStats = this.initWeaponStats(weaponStats);\n  }\n\n  initCharacterStats(ganyuStats) {\n    return {\n      attack: 0,\n      attackType: ATTACK_TYPE.CRYO,\n      criticalRatio: 0.05,\n      criticalDamage: 0.50,\n      ratio: 0,\n      level: 1,\n      mastery: 0,\n      constellation: 0,\n      talentLevels: [1, 1, 1],\n      damageBoost: {},\n      ...ganyuStats\n    };\n  }\n\n  initTargetStats(targetStats) {\n    return {\n      level: 85,\n      resistRatio: 0.1,\n      ...targetStats\n    }\n  }\n\n  initWeaponStats(weaponStats) {\n    return {\n      refineRank: 1,\n      ...weaponStats\n    }\n  }\n\n  generate() {\n    if (this.weaponStats.name === WEAPON_AMOS_BOW.name) {\n      if (this.weaponStats.isChargedAttack) {\n        return {\n          chargeLevel2: this.buildAmosChargeLevel2Report()\n        }\n      }\n      return {\n        elementalSkill: this.buildElementalSkillReport(),\n        elementalBurst: this.buildElementalBurstReport(),\n      }\n    }\n    return {\n      chargeLevel2: this.buildChargeLevel2Report(),\n      elementalSkill: this.buildElementalSkillReport(),\n      elementalBurst: this.buildElementalBurstReport(),\n    }\n  }\n\n  buildAmosChargeLevel2Report() {\n    const [normalTalentLevel] = this.ganyuStats.talentLevels;\n    const troupeBonus = this.ganyuStats.artifact === WANDERER_TROUPE.name ? WANDERER_TROUPE.chargedAttackDamageBoost : 0;\n\n    const stats = {\n      ...this.ganyuStats,\n      ratio: TALENT_GANYU.normal[normalTalentLevel].frostflakeArrow,\n      damageBoost: {\n        ...this.ganyuStats.damageBoost,\n        other: round3((this.ganyuStats.damageBoost.other || 0) + troupeBonus),\n      }\n    }\n    const frostflakeArrow = new Calculator(stats, this.targetStats).calculate()\n\n    const [, amosChargeAttackAdditionalBonus] = WEAPON_AMOS_BOW.refine[this.weaponStats.refineRank]\n    const targetResistanceReduction = this.ganyuStats.constellation >= 1 ? 0.15 : 0;\n    const amosArrowFlyBounsMaxTimes = 5;\n    const frostflakeFlyBonusTimes = parseInt(this.weaponStats.arrowFlyElapsed / 0.1);\n    const frostflakeBloomFlyBonusTimes = min([3, amosArrowFlyBounsMaxTimes - frostflakeFlyBonusTimes])\n    const amosArrowFlyElapsedBonus = frostflakeBloomFlyBonusTimes * amosChargeAttackAdditionalBonus;\n    const bloomStats = {\n      ...this.ganyuStats,\n      ratio: TALENT_GANYU.normal[normalTalentLevel].frostflakeArrowBloom,\n      damageBoost: {\n        ...this.ganyuStats.damageBoost,\n        other: round2((this.ganyuStats.damageBoost.other || 0) + amosArrowFlyElapsedBonus + troupeBonus)\n      }\n    }\n    const targetStats = {\n      ...this.targetStats,\n      resistRatio: round2(0.1 - targetResistanceReduction)\n    }\n\n    const frostflakeArrowBloom = new Calculator(bloomStats, targetStats).calculate()\n\n    return {\n      frostflakeArrow: {\n        damageExpectation: frostflakeArrow[0],\n        normalDamage: frostflakeArrow[1],\n        criticalDamage: frostflakeArrow[2]\n      },\n      frostflakeArrowBloom: {\n        damageExpectation: frostflakeArrowBloom[0],\n        normalDamage: frostflakeArrowBloom[1],\n        criticalDamage: frostflakeArrowBloom[2]\n      }\n    }\n  }\n\n  buildChargeLevel2Report() {\n    const [normalTalentLevel] = this.ganyuStats.talentLevels;\n    const targetResistanceReduction = this.ganyuStats.constellation >= 1 ? 0.15 : 0;\n    const troupeBonus = this.ganyuStats.artifact === WANDERER_TROUPE.name ? WANDERER_TROUPE.chargedAttackDamageBoost : 0\n    const stats = {\n      ...this.ganyuStats,\n      ratio: TALENT_GANYU.normal[normalTalentLevel].frostflakeArrow,\n      damageBoost: {\n        ...this.ganyuStats.damageBoost,\n        other: round3((this.ganyuStats.damageBoost.other || 0) + troupeBonus),\n      }\n    }\n    const bloomStats = {\n      ...this.ganyuStats,\n      ratio: TALENT_GANYU.normal[normalTalentLevel].frostflakeArrowBloom,\n      damageBoost: {\n        ...this.ganyuStats.damageBoost,\n        other: round3((this.ganyuStats.damageBoost.other || 0) + troupeBonus),\n      }\n    }\n    const targetStats = {\n      ...this.targetStats,\n      resistRatio: round2(0.1 - targetResistanceReduction)\n    }\n    const frostflakeArrow = new Calculator(stats, this.targetStats).calculate()\n    const frostflakeArrowBloom = new Calculator(bloomStats, targetStats).calculate()\n\n    return {\n      frostflakeArrow: {\n        damageExpectation: frostflakeArrow[0],\n        normalDamage: frostflakeArrow[1],\n        criticalDamage: frostflakeArrow[2]\n      },\n      frostflakeArrowBloom: {\n        damageExpectation: frostflakeArrowBloom[0],\n        normalDamage: frostflakeArrowBloom[1],\n        criticalDamage: frostflakeArrowBloom[2]\n      }\n    }\n  }\n\n  buildElementalSkillReport() {\n    const [, skillTalentLevel] = this.ganyuStats.talentLevels;\n    const stats = {\n      ...this.ganyuStats,\n      ratio: TALENT_GANYU.skill[skillTalentLevel],\n    }\n    const elementalSkill = new Calculator(stats, this.targetStats).calculate()\n\n    return {\n      '1-hit': {\n        damageExpectation: elementalSkill[0],\n        normalDamage: elementalSkill[1],\n        criticalDamage: elementalSkill[2]\n      },\n      '2-hit': {\n        damageExpectation: elementalSkill[0],\n        normalDamage: elementalSkill[1],\n        criticalDamage: elementalSkill[2]\n      }\n    }\n  }\n\n  buildElementalBurstReport() {\n    const burstMaxHits = 51;\n    const [, , burstTalentLevel] = this.ganyuStats.talentLevels;\n    const stats = {\n      ...this.ganyuStats,\n      ratio: TALENT_GANYU.burst[burstTalentLevel],\n    }\n    const elementalBurst = new Calculator(stats, this.targetStats).calculate()\n\n    return {\n      singleIceShard: {\n        damageExpectation: elementalBurst[0],\n        normalDamage: elementalBurst[1],\n        criticalDamage: elementalBurst[2]\n      },\n      allIceShard: {\n        damageExpectation: round2(elementalBurst[0] * burstMaxHits),\n        normalDamage: round2(elementalBurst[1] * burstMaxHits),\n        criticalDamage: round2(elementalBurst[2] * burstMaxHits)\n      }\n    }\n  }\n}","export default __webpack_public_path__ + \"static/media/alipay.a88338e8.jpg\";","export default __webpack_public_path__ + \"static/media/wechat.89f6ae66.jpg\";","import React, {useState} from 'react';\nimport {Image, Modal} from 'antd';\nimport alipay from '../asset/alipay.jpg'\nimport wechat from '../asset/wechat.jpg'\nimport './Coffee.css';\n\nfunction Coffee() {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleClose = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <div className=\"coffee\">\n      <a onClick={showModal}>☕️</a>\n      <Modal title=\"请作者喝杯咖啡！\" visible={isModalVisible} footer={null} onCancel={handleClose}>\n        <Image src={alipay}/>\n        <Image src={wechat}/>\n      </Modal>\n    </div>\n  );\n}\n\nexport default Coffee;\n","export const getEnum = (value, range) => range.includes(value) ? value : 1\n","import React, {useState} from 'react';\nimport range from 'lodash/range';\nimport {Row, Col, InputNumber, Menu, Dropdown, Button} from 'antd';\nimport DamageScenario from './component/DamageScenario';\nimport {E} from './constant/element';\nimport {Scenario} from './scenario/ganyu';\nimport {Report} from './report/ganyu';\nimport Coffee from './component/Coffee';\nimport './App.css';\nimport {WEAPON_AMOS_BOW, WEAPON_PROTOTYPE_CRESCENT, WEAPON_SKYWARD_HARP} from './constant/weapon';\nimport {BLIZZARD_STRAYER, WANDERER_TROUPE} from './constant/artifact';\nimport {getEnum} from './calculator/enum';\n\nfunction App() {\n  const [level, setLevel] = useState(90);\n  const [basicAttack, setBasicAttack] = useState(943);\n  const [additionalAttack, setAdditionalAttack] = useState(1445);\n  const [mastery, setMastery] = useState(0);\n  const [criticalRatio, setCriticalRatio] = useState(25);\n  const [criticalDamage, setCriticalDamage] = useState(240);\n  const [cryoDamageBonus, setCryoDamageBonus] = useState(61.6);\n  const [normalTalent, setNormalTalent] = useState(11);\n  const [skillTalent, setSkillTalent] = useState(13);\n  const [burstTalent, setBurstTalent] = useState(13);\n  const [constellation, setConstellation] = useState(6);\n  const [refineRank, setRefineRank] = useState(5);\n  const [weaponName, setWeaponName] = useState(WEAPON_AMOS_BOW.name);\n  const [artifact, setArtifact] = useState(BLIZZARD_STRAYER.name);\n\n  const ganyuStats = {\n    basicAttack,\n    additionalAttack,\n    criticalRatio: criticalRatio / 100,\n    criticalDamage: criticalDamage / 100,\n    level,\n    mastery,\n    constellation,\n    talentLevels: [getEnum(normalTalent, range(1, 12)), getEnum(skillTalent, range(1, 14)), getEnum(burstTalent, range(1, 14))],\n    artifact,\n    damageBoost: {\n      [E.CRYO]: cryoDamageBonus / 100\n    }\n  };\n  const weaponStats = {\n    name: weaponName,\n    refineRank: getEnum(refineRank, range(1, 6))\n  };\n\n  const scenarios = new Scenario(ganyuStats, weaponStats).generate();\n  const reports = scenarios.map(scenario => {\n    const report = new Report(scenario.characterStats, scenario.targetStats, scenario.weaponStats).generate();\n    return {description: scenario.description, ...report}\n  })\n\n  function renderNumber(title, value, onChange, min, max, isPercentage) {\n    if (isPercentage) {\n      return (\n        <Row className=\"stat-row\">\n          <Col span={12}>{title}</Col>\n          <Col span={6} className='stat-value'>\n            <InputNumber size=\"small\" min={min} max={max} onChange={onChange} value={value}\n                         formatter={value => `${value}%`} parser={value => value.replace('%', '')}/>\n          </Col>\n        </Row>\n      )\n    }\n\n    return (\n      <Row className=\"stat-row\">\n        <Col span={12}>{title}</Col>\n        <Col span={6} className='stat-value'>\n          <InputNumber size=\"small\" min={min} max={max} onChange={onChange} value={value}/>\n        </Col>\n      </Row>\n    )\n  }\n\n  function onSelectWeapon({key}) {\n    setWeaponName(key)\n  }\n\n  function onSelectArtifact({key}) {\n    setArtifact(key)\n  }\n\n  function getWeaponMenu() {\n    return (\n      <Menu onSelect={onSelectWeapon} onClick={onSelectWeapon}>\n        <Menu.Item key={WEAPON_AMOS_BOW.name}>{WEAPON_AMOS_BOW.label}</Menu.Item>\n        <Menu.Item key={WEAPON_SKYWARD_HARP.name}>{WEAPON_SKYWARD_HARP.label}</Menu.Item>\n        <Menu.Item key={WEAPON_PROTOTYPE_CRESCENT.name}>{WEAPON_PROTOTYPE_CRESCENT.label}</Menu.Item>\n      </Menu>\n    )\n  }\n\n  function getWeaponLabel() {\n    const weaponLabel = {\n      [WEAPON_PROTOTYPE_CRESCENT.name]: WEAPON_PROTOTYPE_CRESCENT.label,\n      [WEAPON_AMOS_BOW.name]: WEAPON_AMOS_BOW.label,\n      [WEAPON_SKYWARD_HARP.name]: WEAPON_SKYWARD_HARP.label\n    }\n    return weaponLabel[weaponName]\n  }\n\n  function getArtifactMenu() {\n    return (\n      <Menu onSelect={onSelectArtifact} onClick={onSelectArtifact}>\n        <Menu.Item key={BLIZZARD_STRAYER.name}>{BLIZZARD_STRAYER.label}</Menu.Item>\n        <Menu.Item key={WANDERER_TROUPE.name}>{WANDERER_TROUPE.label}</Menu.Item>\n      </Menu>\n    )\n  }\n\n  function getArtifactLabel() {\n    const artifactLabel = {\n      [BLIZZARD_STRAYER.name]: BLIZZARD_STRAYER.label,\n      [WANDERER_TROUPE.name]: WANDERER_TROUPE.label\n    }\n    return artifactLabel[artifact]\n  }\n\n  function renderDropdown(title, menu, label) {\n    return (\n      <Row className=\"stat-row\">\n        <Col span={12}>{title}</Col>\n        <Col span={6} className='stat-value'>\n          <Dropdown overlay={menu} placement=\"bottomLeft\">\n            <Button size=\"small\">{label}</Button>\n          </Dropdown>\n        </Col>\n      </Row>\n    )\n  }\n\n  return (\n    <div className=\"app\">\n      <Row className=\"header\">甘雨伤害计算小助手🐷<Coffee/></Row>\n      <Row>\n        <Col lg={6} xs={24}>\n          <Row className=\"title base-stats\">人物状态</Row>\n          <div>\n            {renderNumber('人物等级', level, setLevel, 1, 90)}\n            {renderNumber('基础攻击力(白字)', basicAttack, setBasicAttack, 1, 9999)}\n            {renderNumber('附加攻击力(绿字)', additionalAttack, setAdditionalAttack, 1, 9999)}\n            {renderNumber('元素精通', mastery, setMastery, 0, 9999)}\n            {renderNumber('暴击率', criticalRatio, setCriticalRatio, 5, 100, true)}\n            {renderNumber('暴击伤害', criticalDamage, setCriticalDamage, 50, 1000, true)}\n            {renderNumber('冰元素伤害加成', cryoDamageBonus, setCryoDamageBonus, 0, 1000, true)}\n          </div>\n          <Row className=\"title weapon-stats\">武器状态</Row>\n          <div>\n            {renderDropdown('装备武器', getWeaponMenu(), getWeaponLabel())}\n            {renderNumber('精炼等级', refineRank, setRefineRank, 1, 5)}\n          </div>\n          <Row className=\"title artifact\">圣遗物</Row>\n          <div>\n            {renderDropdown('圣遗物套装', getArtifactMenu(), getArtifactLabel())}\n          </div>\n          <Row className=\"title constellation\">命之座</Row>\n          <div>\n            {renderNumber('命之座', constellation, setConstellation, 0, 6)}\n          </div>\n          <Row className=\"title talent\">天赋</Row>\n          <div>\n            {renderNumber('普通攻击', normalTalent, setNormalTalent, 1, 11)}\n            {renderNumber('元素战技', skillTalent, setSkillTalent, 1, 13)}\n            {renderNumber('元素爆发', burstTalent, setBurstTalent, 1, 13)}\n          </div>\n        </Col>\n        <Col lg={18} xs={24}>\n          <DamageScenario reports={reports}/>\n        </Col>\n      </Row>\n      <div className=\"footer\">这计算器依然是一个未成熟的作品，请勿传播哟</div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'antd/dist/antd.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}